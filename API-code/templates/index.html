<html>
	<head>
		<title>THE CUBE</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="static/three.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<!-- <script>
            // var socket = io.connect('http://blahtest12.azurewebsites.net/test');
            var ws = new WebSocket("ws://localhost:8000/ws");
			var settings = {
			"url": "https://blahtest12.azurewebsites.net/api/v1/speechLogs",
			"method": "GET",
			"timeout": 0,
			};
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );

			var geometry = new THREE.BoxGeometry( 1, 1, 1 );
			var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
			var cube = new THREE.Mesh( geometry, material );
			scene.add( cube );

			camera.position.z = 5;


			const sleep = (milliseconds) => {
  				return new Promise(resolve => setTimeout(resolve, milliseconds))
			}
			// socket.on('logs', function(msg){
			// 	if(msg.logs == 'test'){
			// 		cube.material.color.setHex(0xffffff)
			// 	}
            // });
            ws.onmessage = function(event) {
                console.log(event.data)
                if (event.data == "Speaking"){
                    cube.material.color.setHex(0xffffff)
                } else if (event.data == "Idle"){
                    cube.material.color.setHex(0xfff000)
                }
            }
			var animate = function () {
				requestAnimationFrame( animate );

				cube.rotation.x += 0.01;
				cube.rotation.y += 0.01;
				// let text = `{{ logs }}`
				// if (text == "test"){
				// 	cube.material.color.setHex(0xffffff)
				// }

				renderer.render( scene, camera );
			};

			animate();
		</script> -->
	</body>
</html>